<div class="relative group animate-bounceIn text-center">
  <!-- Vote Display / Card Back -->
  <div class="relative w-14 h-20 mx-auto mb-2 rounded-lg overflow-hidden transition-transform duration-300 hover:scale-105"
       [class.flip-card]="isRevealed() && player().vote">

    @if (!player().vote) {
      <div class="w-full h-full bg-slate-100 dark:bg-slate-700 border border-dashed border-slate-300 dark:border-slate-500 rounded-lg flex items-center justify-center">
        <div class="w-5 h-5 border-2 border-slate-300 dark:border-slate-400 border-t-violet-500 dark:border-t-violet-400 rounded-full animate-spin"></div>
      </div>
    } @else if (!isRevealed()) {
      <div class="w-full h-full bg-gradient-to-br from-violet-600 to-fuchsia-600 rounded-lg flex items-center justify-center shadow-lg shadow-violet-500/30 animate-cardPlaced">
        <div class="w-8 h-8 border-2 border-white/30 rounded-full flex items-center justify-center">
          <app-icon-check class="w-4 h-4 text-white" />
        </div>
      </div>
    } @else {
      <div class="w-full h-full bg-gradient-to-br from-cyan-500 to-violet-500 rounded-lg flex items-center justify-center shadow-lg animate-cardReveal">
        <span class="text-xl font-black text-white">{{ player().vote }}</span>
      </div>
    }
  </div>

  <!-- Name Display -->
  <div 
    class="truncate text-sm font-medium text-slate-700 dark:text-white/80 flex items-center justify-center gap-1"
    [class.text-violet-500]="isCurrentPlayer()"
    [class.dark:text-violet-400]="isCurrentPlayer()">
    <span class="truncate">{{ player().name }}</span>
    @if (player().isHost) {
      <span class="text-yellow-500 flex-shrink-0">ðŸ‘‘</span>
    }
    @if (isCurrentPlayer()) {
      <button 
        (click)="editName.emit()"
        class="flex-shrink-0 p-0.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors"
        title="Edit name">
        <app-icon-edit class="w-3 h-3" />
      </button>
    }
  </div>
</div>
